<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <!--boxicons link-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />

    <!--remixicons-->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <title>Create a meme - Memeify</title>
  </head>
  <body>
    <section id="meme-section">
      <header style="position: relative">
        <a href="#" class="logo"><img src="logo.png" id="logo-img" /></a>
        <ul class="navlist" id="navlist">
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Contact</a></li>
        </ul>

        <div class="bx bx-menu" id="menu-icon"></div>
      </header>
      <h1 id="memes-container-text">
        Choose from 100+ most widely used templates
      </h1>
      <div id="memes-container"></div>
    </section>
    <script>
      function fetchMemes() {
        const apiUrl = "https://api.imgflip.com/get_memes";

        fetch(apiUrl)
          .then((response) => response.json())
          .then((data) => {
            displayMemes(data);
          })
          .catch((error) => {
            console.error("Error fetching data: ", error);
          });
      }

      function displayMemes(data) {
        const memes = data.data.memes;
        const memesContainer = document.getElementById("memes-container");

        memes.forEach((meme) => {
          const memeLink = document.createElement("a");
          const memeContainer = document.createElement("div");
          const memeImage = document.createElement("img");
          const memeText = document.createElement("p");

          memeLink.href =
            "memeGen.html?url=" +
            meme.url +
            "&id=" +
            meme.id +
            "&boxCount=" +
            meme.box_count;
          memeImage.src = meme.url;
          memeImage.alt = meme.name;
          memeImage.height = 300;
          memeImage.width = 400;

          memeText.textContent = meme.name;

          memeContainer.className = "meme-container";

          memeContainer.appendChild(memeImage);
          memeContainer.appendChild(memeText);

          memeLink.appendChild(memeContainer);
          memesContainer.appendChild(memeLink);
        });
      }
      fetchMemes();
      const menuButton = document.getElementById("menu-icon");
      const navList = document.getElementById("navlist");

      menuButton.addEventListener("click", () => {
        navList.classList.toggle("open");
      });
    </script>
  </body>
</html>
